{"version":3,"sources":["file:///C:/Users/%E8%BE%9B%E9%B9%8F/Desktop/CCS/AmbitiousApp/Ambitious/assets/scripts/GameManager.ts"],"names":["_decorator","Component","ccclass","property","GameManager","inst","_inst","getname","_playerName","readName","getMoney","_Money","readMoney","getStore","_Store","readStore","name","localStorage","getItem","PLAYERNAME","moneyValue","MONEY","storeValue","STORE","parseInt","saveName","setItem","saveMoney","saveStore","toString","namechange","updatePlayerData","money","store"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;;;;;;;;OACf;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;;6BAGjBI,W,WADZF,OAAO,CAAC,aAAD,C,2BAAR,MACaE,WADb,SACiCH,SADjC,CAC2C;AAWvB,eAAJI,IAAI,GAAG;AACnB,iBAAO,KAAKC,KAAZ;AACD,SAbwC,CAczC;;;AACqB,eAAPC,OAAO,GAAG;AACtB,cAAI,KAAKC,WAAL,KAAqB,IAAzB,EAA+B;AAC7B,iBAAKC,QAAL;AACD;;AACD,iBAAO,KAAKD,WAAZ;AACD,SApBwC,CAsBzC;;;AACsB,eAARE,QAAQ,GAAG;AACvB,cAAI,KAAKC,MAAL,KAAgB,IAApB,EAA0B;AACxB,iBAAKC,SAAL;AACD;;AACD,iBAAO,KAAKD,MAAZ;AACD,SA5BwC,CA8BzC;;;AACsB,eAARE,QAAQ,GAAG;AACvB,cAAI,KAAKC,MAAL,KAAgB,IAApB,EAA0B;AACxB,iBAAKC,SAAL;AACD;;AACD,iBAAO,KAAKD,MAAZ;AACD,SApCwC,CAsCzC;;;AACuB,eAARL,QAAQ,GAAG;AACxB,cAAIO,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,KAAKC,UAA1B,CAAX;AACA,eAAKX,WAAL,GAAmBQ,IAAI,GAAGA,IAAH,GAAU,IAAjC;AACD,SA1CwC,CA4CzC;;;AACwB,eAATJ,SAAS,GAAG;AACzB,cAAIQ,UAAU,GAAGH,YAAY,CAACC,OAAb,CAAqB,KAAKG,KAA1B,CAAjB;AACA,eAAKV,MAAL,GAAcS,UAAU,GAAGA,UAAH,GAAgB,GAAxC;AACD,SAhDwC,CAkDzC;;;AACwB,eAATL,SAAS,GAAG;AACzB,cAAMO,UAAU,GAAGL,YAAY,CAACC,OAAb,CAAqB,KAAKK,KAA1B,CAAnB;AACA,eAAKT,MAAL,GAAcQ,UAAU,GAAGE,QAAQ,CAACF,UAAD,CAAX,GAA0B,CAAlD,CAFyB,CAE4B;AACtD,SAtDwC,CAwDzC;;;AACsB,eAARG,QAAQ,GAAG;AACvBR,UAAAA,YAAY,CAACS,OAAb,CAAqB,KAAKP,UAA1B,EAAsC,KAAKX,WAA3C;AACD,SA3DwC,CA6DzC;;;AACuB,eAATmB,SAAS,GAAG;AACxBV,UAAAA,YAAY,CAACS,OAAb,CAAqB,KAAKL,KAA1B,EAAiC,KAAKV,MAAtC;AACD,SAhEwC,CAkEzC;;;AACuB,eAATiB,SAAS,GAAG;AACxBX,UAAAA,YAAY,CAACS,OAAb,CAAqB,KAAKH,KAA1B,EAAiC,KAAKT,MAAL,CAAYe,QAAZ,EAAjC;AACD,SArEwC,CAuEzC;;;AACwB,eAAVC,UAAU,CAACd,IAAD,EAAe;AACrC,eAAKR,WAAL,GAAmBQ,IAAnB;AACA,eAAKS,QAAL,GAFqC,CAEpB;AAClB,SA3EwC,CA6EzC;;;AAC8B,eAAhBM,gBAAgB,CAACf,IAAD,EAAegB,KAAf,EAA8BC,KAA9B,EAA6C;AACzE,eAAKzB,WAAL,GAAmBQ,IAAnB;AACA,eAAKL,MAAL,GAAcqB,KAAd;AACA,eAAKlB,MAAL,GAAcmB,KAAd;AACA,eAAKR,QAAL;AACA,eAAKE,SAAL;AACA,eAAKC,SAAL;AACD;;AArFwC,O,UAC1BpB,W,GAAsB,I,UACtBW,U,GAAqB,Y,UAErBR,M,GAAiB,I,UACjBU,K,GAAgB,O,UAEhBP,M,GAAiB,I,UACjBS,K,GAAgB,O,UAEhBjB,K,GAAqB,I","sourcesContent":["import { _decorator, Component, Node } from \"cc\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"GameManager\")\r\nexport class GameManager extends Component {\r\n  private static _playerName: string = null;\r\n  private static PLAYERNAME: string = \"playername\";\r\n\r\n  private static _Money: string = null;\r\n  private static MONEY: string = \"money\";\r\n\r\n  private static _Store: number = null;\r\n  private static STORE: string = \"store\";\r\n\r\n  private static _inst: GameManager = null;\r\n  public static inst() {\r\n    return this._inst;\r\n  }\r\n  // Fetch player name\r\n  public static getname() {\r\n    if (this._playerName === null) {\r\n      this.readName();\r\n    }\r\n    return this._playerName;\r\n  }\r\n\r\n  // Fetch player money\r\n  public static getMoney() {\r\n    if (this._Money === null) {\r\n      this.readMoney();\r\n    }\r\n    return this._Money;\r\n  }\r\n\r\n  // Fetch player store value\r\n  public static getStore() {\r\n    if (this._Store === null) {\r\n      this.readStore();\r\n    }\r\n    return this._Store;\r\n  }\r\n\r\n  // Read player name from localStorage\r\n  private static readName() {\r\n    let name = localStorage.getItem(this.PLAYERNAME);\r\n    this._playerName = name ? name : \"小鹏\";\r\n  }\r\n\r\n  // Read money from localStorage\r\n  private static readMoney() {\r\n    let moneyValue = localStorage.getItem(this.MONEY);\r\n    this._Money = moneyValue ? moneyValue : \"0\";\r\n  }\r\n\r\n  // Read store value from localStorage\r\n  private static readStore() {\r\n    const storeValue = localStorage.getItem(this.STORE);\r\n    this._Store = storeValue ? parseInt(storeValue) : 0; // Default to 0 if not found\r\n  }\r\n\r\n  // Save player name to localStorage\r\n  public static saveName() {\r\n    localStorage.setItem(this.PLAYERNAME, this._playerName);\r\n  }\r\n\r\n  // Save money to localStorage\r\n  public static saveMoney() {\r\n    localStorage.setItem(this.MONEY, this._Money);\r\n  }\r\n\r\n  // Save store value to localStorage\r\n  public static saveStore() {\r\n    localStorage.setItem(this.STORE, this._Store.toString());\r\n  }\r\n\r\n  // Update player name\r\n  public static namechange(name: string) {\r\n    this._playerName = name;\r\n    this.saveName(); // Save updated name to localStorage\r\n  }\r\n\r\n  // Example of setting and getting values\r\n  public static updatePlayerData(name: string, money: string, store: number) {\r\n    this._playerName = name;\r\n    this._Money = money;\r\n    this._Store = store;\r\n    this.saveName();\r\n    this.saveMoney();\r\n    this.saveStore();\r\n  }\r\n}\r\n"]}